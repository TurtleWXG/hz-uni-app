(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/EPass/EPassIndex"],{"13d1":function(t,e,i){"use strict";i.r(e);var s=i("5c40"),a=i.n(s);for(var h in s)"default"!==h&&function(t){i.d(e,t,function(){return s[t]})}(h);e["default"]=a.a},"25e9":function(t,e,i){},"4ec6":function(t,e,i){"use strict";i.r(e);var s=i("a48a"),a=i("13d1");for(var h in a)"default"!==h&&function(t){i.d(e,t,function(){return a[t]})}(h);i("ef3b");var n=i("2877"),r=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"5c40":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(i("21c5"));var s=a(i("1d87"));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){return i.e("components/uni-pagination/uni-pagination").then(i.bind(null,"c64a"))},n=function(){return Promise.all([i.e("common/vendor"),i.e("components/simple-address/simple-address")]).then(i.bind(null,"3f70"))},r={components:{uniPagination:h,simpleAddress:n},data:function(){return{jwhArr:void 0,xm:"",zjhm:"",lxdh:"",selfCompiledAddress:"",workAddress:"",returnTime:"",departAddress:"",vehicleNum:"",jtList:["大巴","火车","自驾","飞机","其他"],index2:-1,cityPickerValueDefault:[18,0,0],pickerText:"点击选择籍贯",hjdzData:["广东省","广州市","海珠区"],jwh:"",jwhName:"",jwhSearch:"",mph:"",mpSearch:"",dongSearch:"",taoSearch:"",jz:"",jzName:"",jddm:"",jddmName:"",dongName:"",taoName:"",mpName:"",mp:"",dong:"",tao:"",canFetch:!0,total:0,jddmList:[],jzList:[],currentPage:1,pageSize:20,jddmSearch:"",jzSearch:"",modalName:null,index:-1,picker:[],multiArray:[["广东省"],["广州市"],["海珠区"]],multiIndex:[0,0,0],time:"12:01",date:"点击选择日期",region:["广东省","广州市","海珠区"],switchA:!1,switchB:!0,switchC:!1,switchD:!1,radio:"A",checkbox:[{value:"A",checked:!1},{value:"B",checked:!0},{value:"C",checked:!1}],imgList:[],status:"",textareaAValue:"",textareaBValue:"",isCheckSui:!1,registerData:"",isCheckZuke:!1,renterPhone:"",renterName:""}},onLoad:function(){var t=this.$store.state.registerData;this.$custom.isEmpty(t)?this.registerData="":(this.xm=t.xm,this.zjhm=t.zjhm,this.lxdh=t.lxdh,this.registerData=t)},created:function(){},methods:{submitForm:function(){var e=this,i=!!this.checkbox[0].checked,a={};if(""!=this.xm)if(""!=this.zjhm)if(""!=this.lxdh){if(this.isCheckZuke){if(""==this.renterName)return void this.$refs["Message"].error("请输入房东姓名");if(""==this.renterPhone)return void this.$refs["Message"].error("请输入房东电话");if(!/^1[3|4|5|6|7|8|9]\d{9}$/.test(this.renterPhone)&&!/^0\d{2,3}-?\d{7,8}$/.test(this.renterPhone))return void this.$refs["Message"].error("请输入正确的房东电话");a.renterName=this.renterName,a.renterPhone=this.renterPhone}if(a.isTenant=this.isCheckZuke?1:0,""!=this.jz)if(""!=this.jwh){if(i){if(a.selfCompiledAddress=this.selfCompiledAddress,this.$custom.isEmpty(this.selfCompiledAddress))return void this.$refs["Message"].error("请填写居住详址")}else{if(a.jddm=this.jddm,a.jddmName=this.jddmName,a.mpid=this.mp,a.mph=this.mph,a.dy=this.dy,a.zhid=this.dong,a.fhid=this.tao,this.$custom.isEmpty(this.jddm))return void this.$refs["Message"].error("请选择街路巷");if(this.$custom.isEmpty(this.mph))return void this.$refs["Message"].error("请选择门牌号");if(this.$custom.isEmpty(this.dy))return void this.$refs["Message"].error("请选择单元")}if(this.isCheckSui)this.date="";else{if("点击选择日期"==this.date)return void this.$refs["Message"].error("请选择返穗日期");if(""==this.departAddress)return void this.$refs["Message"].error("请输入出发地");if(-1==this.index2)return void this.$refs["Message"].error("请选择返穗交通工具")}if(a.alwaysInGz=this.isCheckSui?1:0,/^1[3|4|5|6|7|8|9]\d{9}$/.test(this.lxdh)||/^0\d{2,3}-?\d{7,8}$/.test(this.lxdh))if(!1!==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.zjhm)){"点击选择籍贯"!=this.pickerText&&(a.jg=this.pickerText),a.xm=this.xm,a.zjhm=this.zjhm.toUpperCase(),a.lxdh=this.lxdh,a.departAddress=this.departAddress,a.jz=this.jz,a.jzName=this.jzName,a.jwh=this.jwh,a.jwhName=this.jwhName,a.workAddress=this.workAddress,a.zjhm=this.zjhm,a.returnTime=this.date,a.vehicle=Number(this.index2)+1,a.vehicleNum=this.vehicleNum,a.openId=this.$store.state.openId,t.showLoading({});var h=this;this.$custom.isEmpty(this.registerData)?s.default.http("save",a,"post").then(function(i){if(t.hideLoading(),1==i.appCode){e.$refs["Message"].success("登记成功"),e.$store.dispatch("refreshRegisterStatus",1);var s=setTimeout(function(){1==h.$store.state.userType?h.$routes.redTo("/pages/index/manager"):h.$routes.redTo("/pages/index/index"),clearTimeout(s)},2e3)}else h.$refs["Message"].error(i.appMsg)}):(a.id=this.registerData.id,s.default.http("updateMyPassReport",a,"post").then(function(i){if(t.hideLoading(),1==i.appCode){e.$refs["Message"].success("登记成功"),e.$store.dispatch("refreshRegisterStatus",1);var s=setTimeout(function(){1==h.$store.state.userType?h.$routes.redTo("/pages/index/manager"):h.$routes.redTo("/pages/index/index"),clearTimeout(s)},2e3)}else h.$refs["Message"].error(i.appMsg)}))}else this.$refs["Message"].error("身份证输入不合法");else this.$refs["Message"].error("请输入正确的联系电话")}else this.$refs["Message"].error("请选择居委会");else this.$refs["Message"].error("请选择街镇")}else this.$refs["Message"].error("请输入联系电话");else this.$refs["Message"].error("请输入身份证号");else this.$refs["Message"].error("请输入姓名")},clearJg:function(){this.pickerText="点击选择籍贯"},openAddres:function(){this.$refs.simpleAddress.open()},onConfirm:function(t){this.pickerText=t.label.split("-").join("")},bindChange:function(t){console.log(t)},changeJz:function(){this.jz="",this.jzName="",this.jwh="",this.jwhName="",this.jddmName="",this.jddm="",this.mpName="",this.mp="",this.dong="",this.dongName="",this.tao="",this.taoName="",this.dy=""},changeJwh:function(){this.jwh="",this.jwhName="",this.jddmName="",this.jddm="",this.mpName="",this.mp="",this.dong="",this.dongName="",this.tao="",this.taoName="",this.dy=""},changeJlx:function(){this.jddmName="",this.jddm="",this.mpName="",this.mp="",this.dong="",this.dongName="",this.tao="",this.taoName="",this.dy=""},changeDong:function(){this.mpName="",this.mp="",this.dong="",this.dongName="",this.tao="",this.taoName="",this.dy=""},changeTao:function(){this.tao="",this.taoName="",this.dy=""},selectJddm:function(t){"jz"==this.status&&(this.jzName=t.jzmc,this.jz=t.jzdm,this.jddm="",this.jddmName="",this.jddmSearch="",this.modalName=null,this.mp="",this.mph="",this.mpSearch="",this.dong="",this.dongName="",this.dongSearch="",this.tao="",this.taoSearch="",this.taoName=""),"jwh"==this.status&&(this.jwhName=t.jwhmc,this.jwh=t.jwhdm,this.jddm="",this.jddmName="",this.jddmSearch="",this.modalName=null,this.mp="",this.mph="",this.mpSearch="",this.dong="",this.dongName="",this.dongSearch="",this.tao="",this.taoSearch="",this.taoName=""),"jddm"==this.status&&(this.jddm=t.itemCode,this.jddmName=t.itemName,this.jddmSearch="",this.modalName=null,this.mp="",this.mph="",this.mpSearch="",this.dong="",this.dongName="",this.dongSearch="",this.tao="",this.taoSearch="",this.taoName=""),"mp"==this.status&&(this.mp=t.mpid,this.mph=t.mph,this.mpName=t.mpmc,this.mpSearch="",this.modalName=null,this.dong="",this.dongName="",this.dongSearch="",this.tao="",this.taoSearch="",this.taoName=""),"dong"==this.status&&(this.dong=t.zhid,this.mp=t.mpid,this.mph=t.mph,this.dongName=t.mpmc,this.mpSearch="",this.modalName=null,this.dongSearch="",this.tao="",this.taoSearch="",this.taoName=""),"tao"==this.status&&(this.tao=t.fhid,this.dy=t.dy,this.taoName=t.dy,this.taoSearch="",this.modalName=null)},searchJz:function(){this.jddmList=[],this.currentPage=1,this.total=0,this.status="jz",this.getJz()},searchJwh:function(){""!=this.jz?(this.jddmList=[],this.currentPage=1,this.total=0,this.status="jwh",this.getJwh2()):this.$refs["Message"].error("请先选择街镇")},searchJddm:function(){""!=this.jz?(this.jddmList=[],this.currentPage=1,this.total=0,this.status="jddm",this.getJddm()):this.$refs["Message"].error("请先选择街镇")},changeMp:function(){this.mpName="",this.mp="",this.dy="",this.dong="",this.dongName="",this.tao="",this.taoName=""},selectMp:function(t){this.mp=t.mpid,this.mph=t.mph,this.mpName=t.mpmc,this.mpSearch="",this.modalName=null},searchMp:function(){this.total=0,this.jddmList=[],this.currentPage=1,this.status="mp",this.getMp()},searchDong:function(){""!=this.jddm?(this.total=0,this.jddmList=[],this.currentPage=1,this.status="dong",this.getDong()):this.$refs["Message"].error("请先选择街路巷\t")},searchTao:function(){""!=this.dong?(this.total=0,this.jddmList=[],this.currentPage=1,this.status="tao",this.getTao()):this.$refs["Message"].error("请先选择门牌号")},jumpPage:function(t){this.canFetch&&(this.canFetch=!1,this.currentPage=t.current,"jddm"==this.status&&this.getJddm(),"mp"==this.status&&this.getMp(),"dong"==this.status&&this.getDong(),"tao"==this.status&&this.getTao())},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1)},getJz:function(){var e=this;t.showLoading({});var i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.jzName=this.jzSearch,s.default.http("getJz",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.data||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},getJwh2:function(){var e=this,i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.jz=this.jz,t.showLoading({}),s.default.http("getJwh",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.data||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},getJwh:function(){var e=this;t.showLoading({}),s.default.http("getJwh",{},"post").then(function(i){for(var s=[],a={},h=0;h<i.data.length;h++)s.push(i.data[h].jwhmc),a[i.data[h].jwhmc]=i.data[h].jwhdm;e.jwhArr=a,e.picker=s,t.hideLoading()})},getJddm:function(){var e=this;t.showLoading({});var i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.jddmName=this.jddmSearch,i.jz=this.jz,s.default.http("getJddm",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.dataInfo||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},getMp:function(){var e=this;t.showLoading({});var i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.mpmc=this.mpSearch,i.jddm=this.jddm,s.default.http("getMpid",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.dataInfo||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},getDong:function(){var e=this;t.showLoading({});var i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.mpmc=this.dongSearch,i.jddm=this.jddm,s.default.http("getZhid",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.dataInfo||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},getTao:function(){var e=this;t.showLoading({});var i={};i.pageSize=this.pageSize,i.currentPage=this.currentPage,i.dy=this.taoSearch,i.zhid=this.dong,s.default.http("getFhid",i,"post").then(function(i){e.total=i.count||i.length,e.currentPage=i.currentPage||1,e.jddmList=i.dataInfo||[],t.hideLoading(),e.canFetch=!0}),this.modalName="viewModal"},PickerChange:function(t){-1==t.detail.value?this.index=0:this.index=t.detail.value},PickerChange2:function(t){-1==t.detail.value?this.index2=0:this.index2=t.detail.value},MultiChange:function(t){this.multiIndex=t.detail.value},TimeChange:function(t){this.time=t.detail.value},DateChange:function(t){this.date=t.detail.value},RegionChange:function(t){this.region=t.detail.value},SwitchA:function(t){this.switchA=t.detail.value},SwitchB:function(t){this.switchB=t.detail.value},SwitchC:function(t){this.switchC=t.detail.value},SwitchD:function(t){this.switchD=t.detail.value},RadioChange:function(t){this.radio=t.detail.value},CheckboxChange:function(t){for(var e=this.checkbox,i=t.detail.value,s=0,a=e.length;s<a;++s){e[s].checked=!1;for(var h=0,n=i.length;h<n;++h)if(e[s].value==i[h]){e[s].checked=!0;break}}},checkboxSuiChange:function(t){var e=t.detail.value;e.length>0?this.isCheckSui=!0:this.isCheckSui=!1},checkboxZukeChange:function(t){var e=t.detail.value;e.length>0?this.isCheckZuke=!0:this.isCheckZuke=!1},ChooseImage:function(){var e=this;t.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album"],success:function(t){0!=e.imgList.length?e.imgList=e.imgList.concat(t.tempFilePaths):e.imgList=t.tempFilePaths}})},ViewImage:function(e){t.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},textareaAInput:function(t){this.textareaAValue=t.detail.value},textareaBInput:function(t){this.textareaBValue=t.detail.value}}};e.default=r}).call(this,i("543d")["default"])},a48a:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})},ef3b:function(t,e,i){"use strict";var s=i("25e9"),a=i.n(s);a.a}},[["faa4","common/runtime","common/vendor"]]]);
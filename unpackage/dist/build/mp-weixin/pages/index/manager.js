(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/manager"],{"13bf":function(t,e,n){"use strict";n.r(e);var a=n("e1ac"),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=s.a},"5aad":function(t,e,n){"use strict";n.r(e);var a=n("b074"),s=n("13bf");for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);n("6447");var r=n("2877"),o=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},6447:function(t,e,n){"use strict";var a=n("b7aa"),s=n.n(a);s.a},b074:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s})},b7aa:function(t,e,n){},e1ac:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(a,s)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var r=t.apply(e,n);function o(t){i(r,a,s,o,c,"next",t)}function c(t){i(r,a,s,o,c,"throw",t)}o(void 0)})}}var o=function(){return n.e("components/confirm").then(n.bind(null,"2bd0"))},c={components:{confirm:o},data:function(){return{register:!1,registerBtnName:"申请通行证",btnList:[],imgSuffix:".png",imgPrefix:"../../static/"}},onLoad:function(){t.showLoading({mask:!0,title:"正在加载中"}),this.isRegister()},methods:{isRegister:function(){var t=r(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request.post(this.$api.getMyInfo,{openId:this.$store.state.openId});case 2:e=t.sent,1==e.appCode?(this.register=null==e.data,this.$store.dispatch("refreshRegisterData",e.data),this.$custom.isEmpty(e.data)?this.registerBtnName="申请通行证":1==e.data.checkStatus&&(this.registerBtnName="重新申请通行证",this.register=!0)):(this.register=!0,this.registerBtnName="申请通行证",this.$store.dispatch("refreshRegisterData","")),this.getBtnList();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getBtnList:function(){var t=r(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request.post(this.$api.isAdmin,{openId:this.$store.state.openId});case 2:e=t.sent,1==e.appCode?(this.btnList=e.data,console.log(this.btnList)):this.btnList=[],wx.hideLoading();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),clickItem:function(t){var e=this;switch(t){case"smfx":e.scanInfo();break;case"sh":e.navTongxing();break;case"czls":e.navCaozuo();break}},navRegister:function(){this.navToPage("EPass/EPassIndex")},scanInfo:function(){var t=this;this.$system.scanCode(function(e){t.loadScanInfo(e.result)})},navTongxing:function(){this.navToPage("examine/examine-list")},navCaozuo:function(){this.navToPage("operation-history/operation-history")},navPersonZJ:function(){this.navToPage("EPass/qrcode")},navExitRecord:function(){this.navToPage("scancode/current-record")},navPersonInfo:function(){this.navToPage("scancode/person-info")},loadScanInfo:function(){var e=r(a.default.mark(function e(n){var s;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoading({mask:!0,title:"正在加载中"}),e.next=3,this.$request.post(this.$api.isAdmittance,{id:n,openId:this.$store.state.openId});case 3:s=e.sent,1==s.appCode||0==s.appCode||-4==s.appCode||-5==s.appCode?(s.data.appMsg=s.appMsg,this.$store.dispatch("refreshScanPersonData",s.data),this.navToPage("scancode/person?status="+s.appCode)):-1==s.appCode?this.navToPage("examine/examine-list-detail?id="+s.data.id+"&flag=true"):-3==s.appCode?this.showConfirm(s.appMsg):this.$refs["Message"].error(s.appMsg),wx.hideLoading();case 6:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),navToPage:function(t){this.$routes.navTo("/pages/"+t)},showConfirm:function(t){this.$refs.confirm.show({title:"注意",content:t,sure:"确定"})},confirm:function(){this.$refs.confirm.hide()}}};e.default=c}).call(this,n("543d")["default"])}},[["317e","common/runtime","common/vendor"]]]);